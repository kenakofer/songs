% Family songbook
% TODO:
%  Improve line spacing
%  Change chord font
%  Increase font size
%  Make titles better
%  Try html export?
%  Add youtube links
%  Split songs apart into files? Might make it harder to do formatting specifics, but with needspace that's less of an issue
%  End or Outro?
%  Add Capo notes
%  

\documentclass[twocolumn,a4paper,twoside,11pt]{article}


\usepackage[
  inner=40pt,
  textwidth=480pt,
  top=1cm,
  bottom=2cm
]{geometry}

\usepackage{leadsheets}
\usepackage{array}
\usepackage{needspace} % allows conditional page breaks if not enough space left in page/column
\usepackage{xcolor}

\definesongproperty{suggestedby}

\definesongtitletemplate{custom}{
  \begin{tabular}{@{}l@{}}
    \hline \\[1pt]
    \bfseries\huge\songproperty{title} \\[-1pt]
    \ifsongproperty{composer} {\normalfont\small\sffamily{By \songproperty{composer}} \\}{}
    
    \ifsongproperty{suggestedby} { \normalfont\small\sffamily{Suggested by \songproperty{suggestedby}} \\} { \\[-15pt]}

    \ifsongproperty{capo} { \normalfont\small\sffamily{Capo \songproperty{capo}} \\} { \\[-15pt]}
    \\[-10pt]
  \end{tabular}
}

\newcommand{\formatChorusLabel}[1]{\colorbox{gray}{\textbf{\colorbox{white}{#1}} \hspace{-10pt}}}

\setleadsheets{
    title-template = custom,
    verse/numbered = true,
    % verse/label-format = \bfseries,
    chorus/label-format = \small\formatChorusLabel,
    % chorus/template = \songproperty{label},
    % bridge/label-format = \bfseries,
    % intro/label-format = \bfseries,
    % itemize/label-format = \bfseries,
    verses-label-format = \bfseries\small,
    align-chords = l,
    % text-format = {\fontsize{14pt}{15pt}},  % second dimension should be larger than the first!  
    chords/format = {\fontsize{12pt}{12pt}\color{blue}\bfseries\sffamily},
}

% \newcommand{\threesidebox}[1]{\fboxsep=0pt\fbox{\strut#1}\kern-\fboxrule}

% Custom command for chorus indication
\newcommand{\chorusref}[1]{\fbox{\textit{$\uparrow$ {#1}}}}



\begin{document}

\input{singles/banana-bread}

\input{singles/you-fill-up-my-senses}

\needspace{8\baselineskip} % Don't start new song toward end of column
\input{singles/country-roads}

\needspace{8\baselineskip} % Don't start new song toward end of column
\input{singles/the-parting-glass}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/his-cheeseburger}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/hallelujah-cohen}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/here-comes-the-sun}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/imagine}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/alleluia-the-great-storm}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/youll-be-back}

\needspace{9\baselineskip} % Don't start new song toward end of column
\input{singles/edelweiss}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/wisemen-say}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/one-tin-soldier}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/you-are-my-sunshine}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/can-you-feel}

\needspace{10\baselineskip} % Don't start new song toward end of column
\input{singles/blackbird}

\end{document}
